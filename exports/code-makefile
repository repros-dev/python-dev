REQUIREMENTS_TXT=../requirements.txt
PACKAGING_DIR=../packaging
SETUP_PY=../setup.py

depend:
	echo "Ensuring required dependencies are installed"
	pip install --user -r ${REQUIREMENTS_TXT}
	echo "Done installing dependencies"

test: depend

package: depend
	mkdir -p ${PACKAGING_DIR}
	cd ${PACKAGING_DIR}; python ${SETUP_PY} bdist_wheel
	
clean:
	py3clean ..
	rm -rf ${PACKAGING_DIR}/build
	rm -rf ${PACKAGING_DIR}/dist
	rm -rf ${PACKAGING_DIR}/sample.egg-info

purge: clean
	rm -rf ${PYTHON_DEV_DOT_DIR}/.local
	pip cache purge
	rm -rf ${PYTHON_DEV_DOT_DIR}/.cache
